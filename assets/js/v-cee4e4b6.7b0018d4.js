(self.webpackChunkscriptcat_org=self.webpackChunkscriptcat_org||[]).push([[919],{5010:(e,l,a)=>{"use strict";a.r(l),a.d(l,{data:()=>n});const n={key:"v-cee4e4b6",path:"/dev/cloudcat.html",title:"云端执行",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"CloudCat附加描述",slug:"cloudcat附加描述",children:[{level:3,title:"cloudCat",slug:"cloudcat",children:[]},{level:3,title:"cloudServer",slug:"cloudserver",children:[]},{level:3,title:"exportValue",slug:"exportvalue",children:[]},{level:3,title:"exportCookie",slug:"exportcookie",children:[]}]},{level:2,title:"API支持变化",slug:"api支持变化",children:[{level:3,title:"GM_xmlhttpRequest",slug:"gm-xmlhttprequest",children:[]},{level:3,title:"GM_notification",slug:"gm-notification",children:[]},{level:3,title:"GM_log",slug:"gm-log",children:[]},{level:3,title:"GM_getValue",slug:"gm-getvalue",children:[]}]},{level:2,title:"运行环境",slug:"运行环境",children:[{level:3,title:"本地",slug:"本地",children:[]},{level:3,title:"腾讯云",slug:"腾讯云",children:[]}]}],filePathRelative:"dev/cloudcat.md",git:{updatedTime:1644831559e3,contributors:[]}}},1381:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>$});var n=a(6252);const t=a.p+"assets/img/image-20220203224956248.d731b7a9.png",r=(0,n.Wm)("h1",{id:"云端执行",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#云端执行","aria-hidden":"true"},"#"),(0,n.Uk)(" 云端执行")],-1),c=(0,n.Uk)("提供了多种云端的运行方式，详情请看"),o=(0,n.Wm)("a",{href:"#%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"},"运行环境",-1),m=(0,n.Uk)("。另外"),s={href:"https://github.com/scriptscat/cloudcat",target:"_blank",rel:"noopener noreferrer"},i=(0,n.Uk)("CloudCat"),u=(0,n.Uk)("是用于云端执行后台脚本的服务，是一个FAAS平台，还在开发中。"),d=(0,n.Wm)("p",null,[(0,n.Uk)("⚠请注意⚠,上传到云端后,定时脚本表达式中的"),(0,n.Wm)("code",null,"once"),(0,n.Uk)("语义会进行改变,将"),(0,n.Wm)("code",null,"once"),(0,n.Uk)("之前的时间替换成最小值运行.")],-1),W=(0,n.Wm)("p",null,"例如:",-1),h=(0,n.Wm)("ul",null,[(0,n.Wm)("li",null,[(0,n.Wm)("code",null,"* * once * *"),(0,n.Uk)("=>"),(0,n.Wm)("code",null,"0 0 * * *"),(0,n.Uk)(" 每天运行一次 转化为 每天的00:00分运行")]),(0,n.Wm)("li",null,[(0,n.Wm)("code",null,"* 1-23 once * *"),(0,n.Uk)("=>"),(0,n.Wm)("code",null,"0 1 * * *"),(0,n.Uk)(" 每天的1-23点中运行一次 转化为 每天的01:00分运行")]),(0,n.Wm)("li",null,[(0,n.Wm)("code",null,"* 1,3,5 once * *"),(0,n.Uk)("=>"),(0,n.Wm)("code",null,"0 1 * * *"),(0,n.Uk)(" 每天1点3点5点中运行一次 转化为 每天的01:00分运行")]),(0,n.Wm)("li",null,[(0,n.Wm)("code",null,"* */4 once * *"),(0,n.Uk)("=>"),(0,n.Wm)("code",null,"0 0 * * *"),(0,n.Uk)(" 每天每隔4小时运行一次 转化为 每天的00:00分运行")]),(0,n.Wm)("li",null,[(0,n.Wm)("code",null,"* 1-23/4 once * *"),(0,n.Uk)("=>"),(0,n.Wm)("code",null,"0 1 * * *"),(0,n.Uk)(" 每天的1-23点中每隔4小时运行一次 转化为 每天的01:00分运行")]),(0,n.Wm)("li",null,[(0,n.Wm)("code",null,"* 10 once * *"),(0,n.Uk)("=>"),(0,n.Wm)("code",null,"0 10 * * *"),(0,n.Uk)(" 每天的10点运行一次 转化为 每天10时的00分运行")]),(0,n.Wm)("li",null,[(0,n.Wm)("code",null,"* * * once *"),(0,n.Uk)("=>"),(0,n.Wm)("code",null,"0 0 1 * *"),(0,n.Uk)(" 每月运行一次 转化 每月的1号00:00分运行")])],-1),p=(0,n.Wm)("h2",{id:"cloudcat附加描述",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#cloudcat附加描述","aria-hidden":"true"},"#"),(0,n.Uk)(" CloudCat附加描述")],-1),k=(0,n.Uk)("一个参考的脚本："),g={href:"https://scriptcat.org/script-show-page/48",target:"_blank",rel:"noopener noreferrer"},b=(0,n.Uk)("bilibili自动签到"),C=(0,n.Wm)("h3",{id:"cloudcat",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#cloudcat","aria-hidden":"true"},"#"),(0,n.Uk)(" cloudCat")],-1),A=(0,n.Wm)("p",null,[(0,n.Uk)("声明此属性脚本可以使用"),(0,n.Wm)("code",null,"CloudCat"),(0,n.Uk)("方式运行，当脚本有此选项后在脚本列表中会显示一个云端执行的按钮，点击后可以选择执行方式，执行方式请看"),(0,n.Wm)("a",{href:"#%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"},"运行环境")],-1),x=(0,n.Wm)("p",null,[(0,n.Wm)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAABECAYAAABakH2dAAAIN0lEQVR4nO2cT0wTWRzHv2/KRpoWEg8m7awHQ6GXGrMRLiYC2UQ4tCvJrhH0spjIhl5c4OLuwcSLB1cPK+6GQLYmsvEgqLtJsXvxpMNJwRhiL+zijRmjhyYVHJJl5u2hdGjp9PUP/YPL73OaefPmvdf0M+/vvGGccw6CyINU7wIQexsShBBCghBCSBBCCAlCCCFBCCEkCCGEBCGEkCCEEBKEEEKCEEJIEEJIQ70LQBTGfPkydfDhA/jffwMAWFsb0NQEAJCOH69a3iTIHoQnk+CKAvPlS/Bnz8DW1nLjZBwbbjdYVxek48fBOjvBmpsrVhZGy/17B55MwpydhTkzYytFUWm43ZAGBiD191dEFBJkj2DMzMCMROxrC58PrKkJkGUwjycV9vYtoKrgHz6Arazk3uN2QxoagmNgYFflIkHqDE8mYdy+DcRi2eE+H6SvvoLU3Q3m9YrT0DSYT5/CfPw4V5ZQCI7vvy+7NiFB6gjXNGz++CPY8vJ2mMcDx9gYpK6ustI0YzEYkQjY27fbafr9aLh+vaBodpAgdYKrKjYHB7OaFHbxIhxDQxVJ34hEwO/c2c7P7UbDo0cl1yQkSB3gySQ2L12yag7ucqVqjVCoovmYsRjMa9e28/X70fDLLyVJQhNldcC4fTtLjoaJiYrLAQBSKATH9LR1zpaXU/2dUtKodKEIMcbMTFaH1DE2Bub3Vy0/5vdDunJlOyAWg7mjQyyCBKkhPJmEGYlY52xoqCo1x06kUAgso29j3LoFnkwWde+e6YMoigKfzwdZlnedlqqqiMfjWWGBQKAiae8G484d8C1BuMeDz/78s6b5//v119bohg0NwXHxYsF79oQgMzMzWFxchNPpxPDwcFl/ZDQahaZpAFKC6Lqedd3pdFrper1e9PX17b7gJcCTSWyeOWONWqSffippKJtIJBCPx5FIJKDrOmRZRiAQwMGDB4tOI7PTWuyopu5rMekfDgC6rmNqagqjo6Ml/XAgJcWbN2/yXtd1HStbk0iVeCaWlpbQ3NyMI0eOFBWfK4olB/f7S5IjGo1ifn7eNryzsxOnT58uKh0pFIIxOwu2vAy2tpYqU4Emrq6CRKNRdHR0IBwOY3JyEhsbG9Yf2dHRUVJa4XAYKysrYIwVjNvS0lJukbOYmJhAd3c3gsFgwXzNV6+s41L6HenaNR+KokDXdfT39xeVnhQKgW+NoMxXrwqWpW5NzM5mBQAmJycRCAQwUOb6weXLl4uKd+PGjbLSz2RpaQn37t0DABw6dAjBYBCBQCBv/H97eqwaxPHoEViBZlTXdczPz+PJkydZ4Y2NjQCAjY2NrPD+/v6iHiquqjDOnEkdu934bEf6O6nLKCbzqUg3KwAwNjZWthz15P3795iensaDBw+wvr6ec91cXNxuXjweoRy6rmNubg5Xr161lSMcDiMcDluipNkZNx9MlsG3FvzY2hpMQe0E1EEQuypT13UsLCyU3O/Ya7x48QI3b97E8+fP88Zhn38uTGNychKKouSEp+WQZRmyLOdIkkgkMDc3Z/WzRBQqQyY1FSRfe9re3l7zUUW1+PjxIx4+fIi7d+/i3bt3qcDMJXzBgpmiKNZILJNMOdLYSaIoCqampjA7OysuZGYZCrx3UjNBRHJ8is1KIVZXV7G6ugoA4BlPtWhFdefcTZre3l6rA59G13VsbGygt7c3J/7CwoJtLWRXBl6gxqnJKGa/yXHixAkEg0EcOHCgpPvyDdOj0SgAYHh4GD6fD0BqWJ/uu9mxuLiIzs7OkvK3o+qC7Cc5vF4vQqEQ/DvWVpjPZ71Dym2akMz77ZqYclBVNe+1zDKwLeHyUVVB9pMcp06dsq3uAQBu9/axQABZlismiFf0clBmHplls6FqgiiKsi/kaG1tRTAYxOHDh4uKzwVPdl9fH+LxeM4cR5q5uTk4nU4AyFlK2IloToSrKtLTeqxegtj9yP+bHH19fTh58mTBeFJ7OwyXC2x9HUzTUn+QzVyI0+lEOBzG9PQ0EolEznVRs5FJe3t73v4HV1WwzBqkwGuINZtqr4UcxbThwqq3BI4dO1ZSfPbll8DjxwAAc34ejjxT47IsY3R0FPF4HKqqFi0FAPh8PrS0tFgdWTvMzDWd7u76Lda1tLSgp6cHQGocX4kedSEuXLiA169f562iGxsbcfTo0aqXww7piy9gpgWJxfIKAqRqklLXoorFjMW2m5ciduTtieX+/QBPJrH5zTdgW1PxpS73V4Ks5X6XCw2//15wTYjeKKsRrLkZ0vnz1rlx61bNy2BkvOUunT9fUA6ABKkp0tmz4C4XAIBpWtYfVm2M8XGrc8pdLkhnzxZ1HwlSQ1hzM6TvvrPOeSRS0gvE5WLGYuD371vnjrGxorc+kCA1xjEwAASD1rl57Zr1Ak814MvLWXtjEAyW9MISCVIHHCMj4G1t1rkxOFiVmsSMxWAMDlrnvK0NjpGRktKgUUyd4KqKzW+/tUY1QIW3Xo6PZzUr3OVCwx9/0NbLTwmuadj84Qewra8GAVubt3exX8Z283ZbGxp+/bWsHf4kSJ3hySSM8XHgr7+yw1tbU59/6Ooq7vMPz56lPv/wzz/ZF4NBOEZG6PMPnzpmLAbj55+zmpw03ONJSeL1WrJwTQM0DVzTsmoL654KbQgnQfYQ1ieo7t+3FaWoNFwuSOfO0Seo/s9kfcTu6dOCsnCXC6y7mz5it18xfvst/8WmJjjOnata3iQIIYQmygghJAghhAQhhJAghBAShBBCghBCSBBCCAlCCCFBCCEkCCGEBCGEkCCEEBKEEEKCEEL+A9DQkmMAJsqsAAAAAElFTkSuQmCC",alt:"image-20220203225847694"})],-1),U=(0,n.Wm)("h3",{id:"cloudserver",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#cloudserver","aria-hidden":"true"},"#"),(0,n.Uk)(" cloudServer")],-1),f=(0,n.Wm)("blockquote",null,[(0,n.Wm)("p",null,"与cloudcat相关,还未实现")],-1),v=(0,n.Wm)("p",null,"默认的cloudcat服务器地址",-1),B=(0,n.Wm)("h3",{id:"exportvalue",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#exportvalue","aria-hidden":"true"},"#"),(0,n.Uk)(" exportValue")],-1),E=(0,n.Wm)("p",null,"描述要导出到云端的Value,可以存在多个描述.",-1),y=(0,n.Wm)("div",{class:"language-typescript ext-ts line-numbers-mode"},[(0,n.Wm)("pre",{class:"language-typescript"},[(0,n.Wm)("code",null,[(0,n.Wm)("span",{class:"token comment"},"// @exportValue key1,key2,key3"),(0,n.Uk)("\n"),(0,n.Wm)("span",{class:"token comment"},"// @exportValue key4,key5,key6"),(0,n.Uk)("\n")])]),(0,n.Wm)("div",{class:"line-numbers"},[(0,n.Wm)("span",{class:"line-number"},"1"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"2"),(0,n.Wm)("br")])],-1),w=(0,n.Wm)("h3",{id:"exportcookie",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#exportcookie","aria-hidden":"true"},"#"),(0,n.Uk)(" exportCookie")],-1),M=(0,n.Wm)("p",null,[(0,n.Uk)("描述要导出到云端的cookie,可以存在多个描述.参数使用"),(0,n.Wm)("code",null,"GM_cookie"),(0,n.Uk)("的"),(0,n.Wm)("code",null,"CookieDetails"),(0,n.Uk)("进行描述,例如:")],-1),Q=(0,n.Wm)("div",{class:"language-typescript ext-ts line-numbers-mode"},[(0,n.Wm)("pre",{class:"language-typescript"},[(0,n.Wm)("code",null,[(0,n.Wm)("span",{class:"token comment"},"// 如下将导出https://docs.scriptcat.org/use/中name为cookie1的cookie"),(0,n.Uk)("\n"),(0,n.Wm)("span",{class:"token comment"},"// @exportCookie url=https://docs.scriptcat.org/use;name=cookie1"),(0,n.Uk)("\n\n"),(0,n.Wm)("span",{class:"token comment"},"// 将导出scriptcat.org域所有的cookie"),(0,n.Uk)("\n"),(0,n.Wm)("span",{class:"token comment"},"// @exportCookie domain=scriptcat.org"),(0,n.Uk)("\n\n"),(0,n.Wm)("span",{class:"token comment"},"// 所有可用参数如下:"),(0,n.Uk)("\n"),(0,n.Wm)("span",{class:"token comment"},"// @exportCookie domain=scriptcat.org;url=https://docs.scriptcat.org/use;name=cookie1;path=/use;secure=true;session=true"),(0,n.Uk)("\n")])]),(0,n.Wm)("div",{class:"line-numbers"},[(0,n.Wm)("span",{class:"line-number"},"1"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"2"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"3"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"4"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"5"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"6"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"7"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"8"),(0,n.Wm)("br")])],-1),G=(0,n.Wm)("h2",{id:"api支持变化",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#api支持变化","aria-hidden":"true"},"#"),(0,n.Uk)(" API支持变化")],-1),K=(0,n.Wm)("blockquote",null,[(0,n.Wm)("p",null,"暂时只支持以下API,若无特殊说明,表示与原API一样.")],-1),j=(0,n.Wm)("h3",{id:"gm-xmlhttprequest",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#gm-xmlhttprequest","aria-hidden":"true"},"#"),(0,n.Uk)(" GM_xmlhttpRequest")],-1),z=(0,n.Wm)("h3",{id:"gm-notification",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#gm-notification","aria-hidden":"true"},"#"),(0,n.Uk)(" GM_notification")],-1),q=(0,n.Wm)("h3",{id:"gm-log",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#gm-log","aria-hidden":"true"},"#"),(0,n.Uk)(" GM_log")],-1),Y=(0,n.Wm)("h3",{id:"gm-getvalue",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#gm-getvalue","aria-hidden":"true"},"#"),(0,n.Uk)(" GM_getValue")],-1),P=(0,n.Wm)("p",null,[(0,n.Uk)("暂时只支持获取"),(0,n.Wm)("code",null,"@exportValue"),(0,n.Uk)("导出的value,不支持set/delete/list等方法")],-1),I=(0,n.Wm)("h2",{id:"运行环境",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#运行环境","aria-hidden":"true"},"#"),(0,n.Uk)(" 运行环境")],-1),L=(0,n.Wm)("h3",{id:"本地",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#本地","aria-hidden":"true"},"#"),(0,n.Uk)(" 本地")],-1),J=(0,n.Wm)("p",null,"将导出一个zip包,解压进入文件夹后执行如下命令,可在本地执行,需要本地有nodejs的环境",-1),O=(0,n.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,n.Wm)("pre",{class:"language-bash"},[(0,n.Wm)("code",null,[(0,n.Wm)("span",{class:"token function"},"npm"),(0,n.Uk)(" i\nnode index.js\n")])]),(0,n.Wm)("div",{class:"line-numbers"},[(0,n.Wm)("span",{class:"line-number"},"1"),(0,n.Wm)("br"),(0,n.Wm)("span",{class:"line-number"},"2"),(0,n.Wm)("br")])],-1),S=(0,n.Wm)("h3",{id:"腾讯云",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#腾讯云","aria-hidden":"true"},"#"),(0,n.Uk)(" 腾讯云")],-1),F=(0,n.Uk)("请先在"),V={href:"https://console.cloud.tencent.com/cam/capi",target:"_blank",rel:"noopener noreferrer"},D=(0,n.Wm)("strong",null,"访问密钥",-1),H=(0,n.Uk)("创建腾讯云的密钥，如果是子账号请注意需要给子账号分配云函数的权限；然后在"),N={href:"https://console.cloud.tencent.com/scf/list",target:"_blank",rel:"noopener noreferrer"},T=(0,n.Wm)("strong",null,"函数服务",-1),R=(0,n.Uk)("开通函数服务，每个月有一定的免费额度；地域默认为上海，如有特殊需求可自行调整，点击上传后会自动根据"),X=(0,n.Wm)("code",null,"@crontab",-1),Z=(0,n.Uk)("创建定时触发器，定时运行函数。"),_=(0,n.Wm)("p",null,[(0,n.Wm)("img",{src:t,alt:"image-20220203224956248"})],-1),$={render:function(e,l){const a=(0,n.up)("OutboundLink");return(0,n.wg)(),(0,n.j4)(n.HY,null,[r,(0,n.Wm)("blockquote",null,[(0,n.Wm)("p",null,[c,o,m,(0,n.Wm)("a",s,[i,(0,n.Wm)(a)]),u])]),d,W,h,p,(0,n.Wm)("p",null,[k,(0,n.Wm)("a",g,[b,(0,n.Wm)(a)])]),C,A,x,U,f,v,B,E,y,w,M,Q,G,K,j,z,q,Y,P,I,L,J,O,S,(0,n.Wm)("p",null,[F,(0,n.Wm)("a",V,[D,(0,n.Wm)(a)]),H,(0,n.Wm)("a",N,[T,(0,n.Wm)(a)]),R,X,Z]),_],64)}}}}]);